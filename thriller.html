<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thriller</title>
    <link rel="shortcut icon" href="images/books.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Thriller</h1>

    <p>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/98pNh3LtV8c?si=zE-wkBImY0y7NCS7" title="YouTube video player" frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </p>
    
    <h2>Featured Thriller Books</h2>

    <div class="cart" id="cart" onclick="openCart()">
        <img src="images/cart-icon.png" alt="Cart" class="cart-icon"> 
        <span class="cart-count" id="cartCount">0</span>
    </div>

    <ul>
        <li>
            <h3>Gone Girl</h3>
            <p>Author: Gillian Flynn</p>
            <p>Price: R$ 19,90</p>
            <button onclick="adicionarAoCarrinho('Gone Girl', 19.90)">Add to Cart</button>
        </li>
        <li>
            <h3>Murder on the Orient Express</h3>
            <p>Author: Agatha Christie</p>
            <p>Price: R$ 22,90</p>
            <button onclick="adicionarAoCarrinho('Murder on the Orient Express', 22.90)">Add to Cart</button>
        </li>
        <li>
            <h3>The Girl with the Dragon Tattoo</h3>
            <p>Author: Stieg Larsson</p>
            <p>Price: R$ 14,90</p>
            <button onclick="adicionarAoCarrinho('The Girl with the Dragon Tattoo', 14.90)">Add to Cart</button>
        </li>
    </ul>

    <script>
        // Initialize cart count from local storage or set to 0
        let cartCount = JSON.parse(localStorage.getItem('cartCount')) || 0;
        document.getElementById('cartCount').innerText = cartCount;

        function adicionarAoCarrinho(book, price) {
            cartCount++; // Increment the count
            document.getElementById('cartCount').innerText = cartCount; // Update the count in the cart icon

            // Create or get existing cart items from local storage
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            cartItems.push({ title: book, price: price });
            localStorage.setItem('cartItems', JSON.stringify(cartItems)); // Save back to local storage

            // Update cart count in local storage
            localStorage.setItem('cartCount', JSON.stringify(cartCount));

            alert(book + ' was added to your cart!');
        }

        function openCart() {
            window.open('cart.html', '_blank');
        }
    </script>

    <footer>
        <p>2024 Books 4 U. All rights reserved. | Site by ThaisRSilva</p> 
    </footer>
</body>
</html>
